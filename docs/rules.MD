# Desafio T√©cnico: Microsservi√ßos em um Ambiente Banc√°rio Inovador

Durante essa etapa, queremos observar como voc√™ estrutura solu√ß√µes, organiza prioridades e resolve problemas de forma aut√¥noma. √â a sua chance de mostrar como voc√™ pensa e constr√≥i!

## üìå Organiza√ß√£o e Gerenciamento

Voc√™ tem total liberdade para organizar seu tempo e estrutura de trabalho. Queremos entender como voc√™ gerencia suas pr√≥prias atividades, define prioridades e se comunica de forma clara, de forma ass√≠ncrona atrav√©s de documenta√ß√µes.

## üì¶ Entreg√°veis

### Relat√≥rio de Progresso

- Link da plataforma de gest√£o de atividades utilizada para criar e acompanhar backlog
- Como organizou suas demandas e atividades
- Como priorizou as entregas
- Quais foram as principais dificuldades enfrentadas e como lidou com elas
- O que faria diferente com mais tempo ou em um contexto real de projeto

### Entreg√°veis T√©cnicos

- Garantir que foi solicitado no escopo do desafio

### ‚ö° Essencial: Fluxo de Git

Utilize Git para versionamento de c√≥digo. Fa√ßa commits descritivos; crie uma branch para cada feature e abra um Pull Request para a branch principal ao finalizar (develop ou equivalente).

Isso √© importante para organiza√ß√£o de fluxo de trabalho e entendimento do hist√≥rico.

## üóì Prazo e Entrega

- **Prazo**: At√© 26/10/2025 √†s 23:59 (4 dias corridos a partir do recebimento do desafio)
- **Entrega**: Enviar a pasta com o projeto completo como anexo, em formato zip, via e-mail para `processoseletivo@loomi.com.br`

## üí° Processo Seletivo - Briefing da Solu√ß√£o

### Contexto

Voc√™ faz parte de uma equipe respons√°vel por desenvolver um sistema banc√°rio inovador, onde a modularidade e a comunica√ß√£o eficiente entre microsservi√ßos s√£o cruciais.

**O objetivo √© criar dois microsservi√ßos distintos:**

- Um para gerenciar transfer√™ncias entre pessoas
- Outro para gerenciar detalhes de clientes, incluindo dados banc√°rios

### Comunica√ß√£o Eficiente

Os microsservi√ßos t√™m a flexibilidade de se comunicar entre si, caso necess√°rio. Utilize esta capacidade para otimizar o sistema, garantindo que a troca de informa√ß√µes seja eficiente e desacoplada.

## üõ† Especifica√ß√µes T√©cnicas

### Arquitetura

- **Clean Architecture**: Implementa√ß√£o baseada nos princ√≠pios de Clean Architecture para garantir separa√ß√£o de responsabilidades, testabilidade e manutenibilidade
- **Padroniza√ß√£o**: Estrutura e nomenclatura consistentes entre todos os microsservi√ßos
- **Modularidade**: Cada microsservi√ßo deve ser independente e seguir os mesmos padr√µes arquiteturais

### Stack Tecnol√≥gica

- **Linguagem**: TypeScript para tipagem est√°tica e melhor experi√™ncia de desenvolvimento
- **Runtime**: Node.js 22 (vers√£o LTS mais recente)
- **ORM**: Prisma (recomendado) ou TypeORM para abstra√ß√£o e gerenciamento do banco de dados
- **Banco de Dados**: PostgreSQL como banco principal, Redis para cache

### Estrutura de Projeto

Cada microsservi√ßo deve seguir a seguinte estrutura baseada em Clean Architecture:

```
src/
‚îú‚îÄ‚îÄ domain/           # Entidades e regras de neg√≥cio
‚îú‚îÄ‚îÄ application/      # Casos de uso e interfaces
‚îú‚îÄ‚îÄ infrastructure/   # Implementa√ß√µes externas (DB, APIs)
‚îú‚îÄ‚îÄ presentation/     # Controllers e rotas
‚îú‚îÄ‚îÄ shared/          # Utilit√°rios compartilhados
‚îî‚îÄ‚îÄ tests/           # Testes unit√°rios e integra√ß√£o
```

### Padr√µes de Nomenclatura

- **Arquivos**: kebab-case (ex: `user-service.ts`)
- **Classes**: PascalCase (ex: `UserService`)
- **M√©todos/Vari√°veis**: camelCase (ex: `getUserById`)
- **Constantes**: UPPER_SNAKE_CASE (ex: `MAX_RETRY_ATTEMPTS`)
- **Interfaces**: PascalCase com prefixo "I" (ex: `IUserRepository`)

## üèó Microsservi√ßo de Transa√ß√µes

### Banco de Dados

- Escolher um banco de dados relacional (PostgreSQL recomendado)

### Endpoints M√≠nimos

#### `POST /api/transactions`

Inicia uma nova transfer√™ncia.

**Par√¢metros:**
- `senderUserId`
- `receiverUserId`
- `amount`
- `description`

**Resposta:** Status da transfer√™ncia

#### `GET /api/transactions/{transactionId}`

Detalhes de uma transfer√™ncia espec√≠fica.

**Resposta:** Detalhes da transfer√™ncia

#### `GET /api/transactions/user/{userId}`

Lista de transfer√™ncias de um usu√°rio espec√≠fico.

**Resposta:** Lista de transfer√™ncias

### Considera√ß√µes Adicionais

- Implementar mecanismos de seguran√ßa (autentica√ß√£o e autoriza√ß√£o)
- O formato dos endpoints m√≠nimos n√£o √© obrigat√≥rio
- √â encorajado implementar endpoints al√©m dos m√≠nimos sugeridos

## üë• Microsservi√ßo de Clientes

### Banco de Dados

- **Relacional:** PostgreSQL (ou similar)
- **N√£o Relacional:** Redis para cache de chamadas que n√£o mudam periodicamente

### Endpoints M√≠nimos

#### `GET /api/users/{userId}`

Detalhes do cliente.

**Resposta:** Informa√ß√µes do cliente, incluindo dados banc√°rios (ag√™ncia e conta corrente)

#### `PATCH /api/users/{userId}`

Atualiza√ß√£o parcial de dados do cliente.

**Par√¢metros:** Subconjunto de `{name, email, address, bankingDetails}`

**Resposta:** Status da atualiza√ß√£o

#### `PATCH /api/users/{userId}/profile-picture`

Atualiza√ß√£o parcial da foto de perfil.

**Par√¢metros:** `{profilePicture}`

**Resposta:** Status da atualiza√ß√£o

### Dados Banc√°rios

Os dados banc√°rios (ag√™ncia e conta corrente) podem ser inclu√≠dos no objeto `bankingDetails` no modelo do usu√°rio.

### Considera√ß√µes Adicionais

- O formato dos endpoints m√≠nimos n√£o √© obrigat√≥rio
- Estes s√£o apenas exemplos do m√≠nimo esperado
- O diferencial ser√° adicionado pela sua criatividade üòâ

## üìÅ Template dos Microsservi√ßos

Antes de iniciar o desenvolvimento, √© crucial estabelecer uma estrutura de template que promova consist√™ncia, boas pr√°ticas e facilidade de manuten√ß√£o.

### Diretrizes do Template

1. **Estrutura de Pastas**
   - Separa√ß√£o clara entre fontes, testes e recursos auxiliares
   - Pastas espec√≠ficas para modelos, controladores, servi√ßos, configura√ß√µes e testes

2. **Padroniza√ß√£o de Nomenclatura**
   - Uso consistente de nomes significativos para classes, m√©todos e arquivos
   - Conven√ß√£o para endpoints seguindo as melhores pr√°ticas de RESTful

3. **Logging e Monitoramento**
   - Implementa√ß√£o de logs estruturados para rastreamento de eventos
   - Integra√ß√£o com ferramentas de monitoramento para m√©tricas e alertas

4. **Testes Unit√°rios e Integra√ß√£o**
   - Estrutura dedicada para testes unit√°rios e de integra√ß√£o
   - Utiliza√ß√£o de bibliotecas e frameworks para facilitar a cria√ß√£o e execu√ß√£o de testes

5. **Gerenciamento de Depend√™ncias**
   - Utiliza√ß√£o de gerenciadores de pacotes para facilitar a gest√£o de depend√™ncias
   - Versionamento expl√≠cito de depend√™ncias para evitar surpresas durante atualiza√ß√µes

6. **Seguran√ßa**
   - Implementa√ß√£o de pr√°ticas recomendadas de seguran√ßa
   - Incluindo valida√ß√£o de entrada, prote√ß√£o contra ataques comuns e controle de acesso

7. **Dockeriza√ß√£o**
   - Configura√ß√£o de Dockerfiles para a cria√ß√£o de imagens consistentes
   - Utiliza√ß√£o de Docker Compose para orquestra√ß√£o de microsservi√ßos em ambiente de desenvolvimento

## üîó Microsservi√ßos Abstratos

### Interfaces com outros microsservi√ßos

- Crie contratos com microsservi√ßos hipot√©ticos, sem implementa√ß√£o necess√°ria
- Apenas interfaces para simular a comunica√ß√£o entre ambientes distribu√≠dos

### Simula√ß√£o de chamadas

**Caso de uso hipot√©tico:** Dentro do microsservi√ßo de transfer√™ncias, um poss√≠vel cen√°rio envolve a solicita√ß√£o de uma chamada ao microsservi√ßo de notifica√ß√µes criar na base, uma vez que uma transa√ß√£o √© conclu√≠da com sucesso.

## üì® Comunica√ß√£o entre Microsservi√ßos

### Broker de Mensageria (Kafka ou RabbitMQ)

Os microsservi√ßos devem se comunicar entre si, utilizando o broker de mensageria para notifica√ß√µes sobre a atualiza√ß√£o dos dados banc√°rios do usu√°rio, garantindo desacoplamento e efici√™ncia na comunica√ß√£o.

### API Gateway (Opcional)

Recomendamos a cria√ß√£o de uma API Gateway para centraliza√ß√£o das chamadas para os servi√ßos, mas fica opcional a implementa√ß√£o de acordo com sua criatividade.

## ü§ñ Uso de Ferramentas de IA

O uso consciente e estrat√©gico de ferramentas de IA √© incentivado para potencializar o desenvolvimento, sem substituir a autoria e revis√£o humanas.

### Ferramentas Recomendadas

- **Cursor:** Editor de c√≥digo com integra√ß√£o de IA, permitindo edi√ß√£o por linguagem natural, sugest√µes contextuais e refatora√ß√£o inteligente
- **ChatGPT (OpenAI):** Assistente vers√°til para gera√ß√£o de c√≥digo, esclarecimento de d√∫vidas e brainstorming t√©cnico
- **Claude (Anthropic):** Focado em seguran√ßa e alinhamento, √∫til para revis√µes e explica√ß√µes detalhadas
- **Gemini (Google):** Modelo multimodal com integra√ß√£o ao ecossistema Google

### Diretrizes de Uso

- **Objetividade nos Prompts:** Formule solicita√ß√µes claras e espec√≠ficas para obter respostas relevantes das ferramentas de IA
- **Revis√£o Humana:** Todo c√≥digo gerado por IA deve ser cuidadosamente revisado e ajustado conforme necess√°rio
- **Documenta√ß√£o:** No README do projeto, inclua uma se√ß√£o detalhando:
  - Quais ferramentas de IA foram utilizadas
  - Exemplos de prompts e resultados obtidos
  - Decis√µes tomadas com base nas sugest√µes da IA
- **√âtica e Autenticidade:** Utilize a IA como suporte, mantendo a autoria e responsabilidade pelo c√≥digo desenvolvido

## üìä Pontos Avaliados

Ser√£o observados os seguintes aspectos sobre o desenvolvimento do desafio:

### Aspectos T√©cnicos

- Arquitetura do projeto e boas pr√°ticas de c√≥digo (SOLID, KISS, DRY, YAGNI, Clean Code, ESLint)
- Desenvolvimento de API seguindo a arquitetura REST
- Conhecimentos sobre servi√ßos de mensageria
- Cria√ß√£o e gerenciamento de banco de dados
- Implementa√ß√£o de testes
- Uso de Docker/Docker Compose

### Arquitetura e Design

- Fluxograma da comunica√ß√£o entre os servi√ßos
- Leitura e modelagem de dados
- Template e estrutura dos microsservi√ßos
- Comunica√ß√£o entre microsservi√ßos

### Gest√£o e Comunica√ß√£o

- Comunica√ß√£o e participa√ß√£o ativa no processo
- Autogerenciamento e qualidade da entrega (prazos, prioridades, comunica√ß√£o)
- Organiza√ß√£o e prioriza√ß√£o das atividades
- Uso do GitHub e Gitflow

### Uso de Ferramentas de IA

- Documenta√ß√£o do uso de IA no projeto
- Qualidade das implementa√ß√µes desenvolvidas com aux√≠lio de IA

### Deploy e Infraestrutura

- Processo deploy da API na AWS (ssh, EC2, security group)
- Documenta√ß√£o da API com especifica√ß√£o OpenAPI (recomenda√ß√£o: Swagger)

## üéØ Considera√ß√µes Finais

- √â incentivado a implementa√ß√£o de boas pr√°ticas de seguran√ßa
- N√£o se limite aos exemplos fornecidos, a criatividade e a extens√£o dos recursos ser√£o valorizadas
- Demonstre habilidades em dockeriza√ß√£o dos servi√ßos e deploy na AWS
- Avalie a qualidade do c√≥digo, a documenta√ß√£o e a capacidade de resolu√ß√£o de problemas durante a implementa√ß√£o

Este desafio visa avaliar n√£o apenas as habilidades t√©cnicas, mas tamb√©m a capacidade de design, inova√ß√£o e resolu√ß√£o de problemas em um contexto do mundo real.
